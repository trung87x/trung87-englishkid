<meta name="layout" content="_Layout.html" />

<section class="px-4 py-4">
  <h1 class="text-2xl font-semibold">
    Kết quả cho: "<span id="qText"></span>"
  </h1>
  <div id="resultZone" class="mt-3"></div>
</section>

<script>
  console.log("[Results] view script chạy, define initView");
  window.initView = (m) => {
    document.getElementById("qText").textContent = m.q || "";

    const z = document.getElementById("resultZone");
    if (!m.q) {
      z.innerHTML = "<p>Nhập từ khoá để tìm.</p>";
      return;
    }
    if (!m.items || !m.items.length) {
      z.innerHTML = "<p>Không có kết quả.</p>";
      return;
    }

    z.innerHTML = m.items
      .map(
        (x) => `
      <div class="py-2 border-b border-slate-200">
        <div class="font-medium">${x.word}</div>
        <div class="text-sm text-slate-600">${
          Array.isArray(x.meaning_vi)
            ? x.meaning_vi.join(", ")
            : x.meaning_vi || ""
        }</div>
        <div class="text-xs text-slate-500">${x.pos || ""} · ${
          x.topic || ""
        }</div>
      </div>
    `
      )
      .join("");
  };
</script>
